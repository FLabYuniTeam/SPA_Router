- [1. URI의 개념](#1-uri의-개념)
  - [1.1 URI와 URL의 차이점](#11-uri와-url의-차이점)
  - [1.2 URI에서 URN으로](#12-uri에서-urn으로)
- [2. URL의 문법](#2-url의-문법)
  - [2.1 URL 컴포넌트들](#21-url-컴포넌트들)
  - [2.2 여러가지 스킴](#22-여러가지-스킴)
- [3. URI의 활용](#3-uri의-활용)
- [4. 기타 URI 정보](#4-기타-uri-정보)
  - [4.1 단축 URL](#41-단축-url)
  - [4.2 안전하지 않은 문자](#42-안전하지-않은-문자)
  - [4.3 프락시와 URL](#43-프락시와-url)
  - [요약](#요약)

---

# 1. URI의 개념

URI(Uniform Resource Identifier)는 인터넷에서 자원을 나타내는 유일한 식별자입니다. URI는 URL과 URN으로 나누어집니다.

![](https://velog.velcdn.com/images/dataliteracy/post/8f70469c-4f12-43a8-991c-d4f30951cd86/image.png)

## 1.1 URI와 URL의 차이점

- URL(Uniform Resource Locator)은 인터넷에서 자원의 위치를 나타내는 주소입니다.
- URN(Uniform Resource Name)은 인터넷에서 자원의 이름을 나타내는 식별자입니다.

URI와 URL의 가장 큰 차이는 URI 식별하고, URL의 위치를 가리킨다는 점이다.

URN은 URL의 단점을 이야기하면서 URN의 식별에 대해 좀 더 이야기해보자.

## 1.2 URI에서 URN으로

웹 상에서 URL은 완벽하지 않다. URL은 주소이지 실제 이름이 아니다. 이때의 단점은 리소스가 옮겨지면 URL을 더는 사용할 수 없다는 것이다. 그리고 그 시점에 기존 URL을 가리키고 있던 객체를 찾을 방법이 없어진다.

이런 문제를 예방할 수 있는 방법이 URN이다. 실제 그 객체의 위치와 상관없이 그 객체를 가리키고 있는 이름을 사용하는 것이다.

URN은 지속 통합 자원 지시자, PURL을 사용해서 URL로 URN의 기능을 제공해서 사용할 수 있다.
PURL은 리소스의 실제 URL 목록을 리소스 위치 중개 서버에 두고, 해당 리소스를 우회적으로 제공한다.

하지만 URL에서 URN으로 주소 체계를 TradeOff 하는 건 매우 큰 작업이기 때문에 당분간은 URL이 계속 사용될 것이다.

# 2. URL의 문법

URL은 애플리케이션이 리소스에 접근할 수 있는 방법을 제공한다.

URL로 웹 상의 모든 리소스를 찾을 수 있지만, 그 리소스들은 스킴별로 접근방식이 달라진다.

<aside>
💡 URL 문법
<스킴>://<사용자 이름>:<비밀번호>@<호스트>:<포트>/<경로>;<파라미터>?<질의>#<프레그먼트>

</aside>

이 모든 컴포넌트를 가지는 URL은 거의 없다. 보통 URL의 가장 중요한 세가지 컴포넌트 스킴, 호스트, 경로를 표기한 www.google.com처럼 주로 사용한다.

## 2.1 URL 컴포넌트들

| 컴포넌트    | 설명                                                                             | 기본값        |
| ----------- | -------------------------------------------------------------------------------- | ------------- |
| 스킴        | 리소스를 가져오기 위해 어떤 프로토콜을 사용하여 서버에 접근해야하는지 가리킨다.  | 없음          |
| 사용자 이름 | 리소스에 접근하기 위해 사용자 이름이 필요한 몇몇 스킴이 존재한다.                | anonymous     |
| 비밀번호    | 사용자의 비밀번호, 사용자 이름에 콜론(:)으로 이어서 기술한다.                    | <이메일 주소> |
| 호스트      | 리소스를 호스팅하는 서버의 호스트 명이나 IP 주소                                 | 없음          |
| 포트        | 리소스를 호스팅하는 서버가 열어놓은 포트번호                                     | 스킴별로 다름 |
| 경로        | 서버 내 리소스가 서버 어디에 있는지 가리킨다.                                    | 없음          |
| 파라미터    | 이름/값 쌍을 가지며, 입력 파라미터를 기술하는 용도로 사용한다.                   | 없음          |
| 질의        | 스킴에서 애플리케이션에 파라미터를 전달하는데 쓰인다. URL의 끝에 ‘?’로 구분한다. | 없음          |
| 프레그먼트  | 리소스의 조각이나 일부분을 가리키는 이름이다.                                    | 없음          |

스킴 컴포넌트는 알파벳으로 시작해야 하고 URL의 나머지 부분들과 (:) 콜론으로 구분된다. 스킴 명은 대소문자를 가리지 않는다.

## 2.2 여러가지 스킴

| 스킴        | 설명                                                                                                                                       |
| ----------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| http        | 일반 URL 포맷, 포트의 기본값은 80(생략가능) </br>예) http://www.google.com:80/index.html                                                   |
| https       | http 스킴과 거의 같다. 다른 점은 HTTP의 커넥션 양 끝단에서 암호화하기 위해 SSL을 사용한다. </br>예) https://www.google.com:443/secure.html |
| mailto      | 이메일 주소를 가리킨다. 이메일은 다른 스킴과는 다르게 동작하기 때문에 표준 URL과는 다른 포맷을 가진다.                                     |
| ftp         | 파일 전송 프로토콜은 FTP 서버에 있는 파일을 내려 받거나 올리고 콘텐츠 목록을 가져오는 데 사용한다.                                         |
| rtsp, rtspu | 실시간 스트리밍 프로토콜을 통해서 읽을 수 있는 오디오 및 비디오 같은 미디어 리소스 식별자다.                                               |
| file        | 주어진 호스트 기기(로컬, 네트워크 파일 시스템 등)에서 바로 접근할 수 있는 파일들을 나타낸다.                                               |
| news        | 특정 문서나 뉴스 그룹에 접근하는데 사용한다.                                                                                               |
| telnet      | 대화형 서비스에 접근하는데 사용한다.                                                                                                       |

# 3. URI의 활용

URI는 다음과 같은 방식으로 활용됩니다.

1. 웹 페이지의 주소로 사용되어 브라우저에서 콘텐츠를 가져올 수 있습니다.
   - 예: **[https://www.google.com/search?q=python](https://www.google.com/search?q=python)**, **[https://www.youtube.com/watch?v=dQw4w9WgXcQ](https://www.youtube.com/watch?v=dQw4w9WgXcQ)**
   - 브라우저에서 URI를 사용하여 인터넷 상의 웹 페이지를 가져오거나 해당 페이지의 특정 부분에 대한 콘텐츠를 요청할 수 있습니다.
2. API의 엔드포인트로 사용되어 다른 애플리케이션과 데이터를 공유할 수 있습니다.
   - 예: **[https://api.github.com/users/octocat](https://api.github.com/users/octocat)**, **[https://api.openweathermap.org/data/2.5/weather?q=Seoul&appid=YOUR_API_KEY](https://api.openweathermap.org/data/2.5/weather?q=Seoul&appid=YOUR_API_KEY)**
   - URI를 사용하여 다른 애플리케이션과 데이터를 공유할 수 있습니다. API 엔드포인트는 요청을 수신하고 데이터를 반환하기 위한 URI입니다.
3. 인터넷에서 자원을 식별하기 위해 사용됩니다.
   - 예: **[https://www.wikipedia.org/wiki/URI](https://www.wikipedia.org/wiki/URI)**, ftp://ftp.gnu.org/gnu/gzip/gzip-1.10.tar.gz
   - URI는 인터넷에서 자원을 식별하기 위한 표준이며, 인터넷 상의 모든 자원은 URI를 통해 식별됩니다.
4. 웹 검색 엔진에서 페이지를 색인하기 위해 사용됩니다.
   - 예: **[https://www.google.com/search?q=python](https://www.google.com/search?q=python)**
   - URI를 사용하여 웹 검색 엔진이 인터넷 상의 웹 페이지를 검색하고 색인할 수 있습니다. URI는 검색 엔진에서 특정 페이지에 대한 정보를 찾는 데 필요한 키워드로 사용됩니다.
   - 웹 검색 엔진은 수많은 웹 페이지를 수집하고 분석하여 사용자에게 최적의 검색 결과를 제공하기 위해 노력합니다. 이러한 역할을 수행하기 위해서는 검색 엔진이 인터넷 상의 모든 웹 페이지를 색인하고 분류할 수 있어야 합니다. URI는 이러한 작업에서 중요한 역할을 합니다.
     웹 검색 엔진은 크롤러라는 프로그램을 사용하여 웹 페이지를 수집합니다. 이때 크롤러는 시작점으로부터 URI를 따라 웹 페이지를 따라가며 정보를 수집합니다. 예를 들어, 검색어 'python'을 검색하는 경우 Google 검색 엔진은 "**[https://www.google.com/search?q=python"이라는](https://www.google.com/search?q=python%22%EC%9D%B4%EB%9D%BC%EB%8A%94)** URI를 사용하여 검색 결과를 반환합니다.
     검색 엔진은 URI에서 검색어와 관련된 페이지를 찾아서 색인합니다. 이후에 사용자가 검색어를 입력하면 검색 엔진은 색인된 페이지에서 검색어와 일치하는 결과를 찾아서 사용자에게 보여줍니다. URI는 검색 엔진에서 페이지를 식별하고 분류하는 데 필요한 중요한 요소입니다.

URI는 인터넷에서 리소스를 고유하게 식별하는 중요한 수단입니다. URI를 사용하여 인터넷 상의 다양한 리소스를 쉽게 찾고 공유할 수 있습니다.

# 4. 기타 URI 정보

## 4.1 단축 URL

URL은 상대 URL과 절대 URL 두 가지로 나뉩니다.

상대 URL은 기저 URL을 기준으로 상대적인 경로를 나타내는 URL입니다. 예를 들어, "**[https://www.example.com/some/very/long/path/to/a/page"라는](https://www.example.com/some/very/long/path/to/a/page%22%EB%9D%BC%EB%8A%94)** 기저 URL이 있다고 가정하면, 상대 URL인 "../another/page"는 "**[https://www.example.com/some/very/long/path/to/another/page"로](https://www.example.com/some/very/long/path/to/another/page%22%EB%A1%9C)** 변환됩니다.

상대 URL을 절대 URL로 변환하기 위해서는 기저 URL과 상대 URL을 결합하는 알고리즘을 사용합니다. 이 알고리즘은 다음과 같이 작동합니다.

1. 상대 URL이 이미 절대 URL인 경우, 변환하지 않습니다.
2. 상대 URL에서 첫 번째 문자가 슬래시("/")인 경우, 기저 URL의 호스트와 포트 정보를 제외한 경로 정보와 결합하여 절대 URL을 생성합니다.
3. 그 외의 경우, 기저 URL에서 경로 정보를 제외한 부분과 상대 URL을 결합하여 절대 URL을 생성합니다.

예를 들어, 기저 URL이 "**[https://www.example.com/some/very/long/path/to/a/page"이고](https://www.example.com/some/very/long/path/to/a/page%22%EC%9D%B4%EA%B3%A0)**, 상대 URL이 "../another/page"인 경우, 다음과 같이 알고리즘을 적용할 수 있습니다.

1. 상대 URL이 절대 URL이 아니므로, 다음 단계를 진행합니다.
2. 상대 URL에서 첫 번째 문자가 슬래시("/")가 아니므로, 기저 URL에서 경로 정보를 제외한 부분인 "**[https://www.example.com/some/very/long/path/to/"과](https://www.example.com/some/very/long/path/to/%22%EA%B3%BC)** 상대 URL인 "../another/page"를 결합하여 "**[https://www.example.com/some/very/long/path/to/../another/page"라는](https://www.example.com/some/very/long/path/another/page%22%EB%9D%BC%EB%8A%94)** 절대 URL을 생성합니다.
3. 절대 URL을 정규화하여 "**[https://www.example.com/some/very/long/path/another/page"로](https://www.example.com/some/very/long/path/another/page%22%EB%A1%9C)** 최종 변환합니다.

이처럼, 상대 URL과 기저 URL을 결합하여 절대 URL로 변환하는 알고리즘을 사용하여 단축 URL을 포함한 모든 URL을 절대 URL로 변환할 수 있습니다.

단축 URL(Shortened URL)은 긴 URL을 짧게 줄이는 서비스로, 주로 Twitter나 SMS 등에서 많이 사용됩니다. 단축 URL은 URL을 대체하는 새로운 URL입니다. 즉, 원래 URL을 짧은 URL로 대체하여 사용합니다. 대부분의 단축 URL 서비스는 사용자가 입력한 URL을 데이터베이스에 저장하고, 해당 URL에 대한 짧은 URL을 생성합니다. 이렇게 생성된 짧은 URL은 원래 URL과 연결되어 사용됩니다.

하지만, 단축 URL을 사용하면 보안 문제가 발생할 수 있습니다. 예를 들어, 단축 URL을 클릭하면 악성 코드가 설치된 웹 사이트로 리디렉션될 수 있습니다. 또한, 단축 URL을 통해 사이트에 접속하면, 사용자의 개인정보가 수집되거나 해킹 당할 수도 있습니다. 따라서, 단축 URL을 사용할 때에는 주의해야 합니다.

## 4.2 안전하지 않은 문자

URI는 일부 문자들이 안전하지 않은 문자로 간주됩니다. 이러한 문자들은 URI에 직접 사용될 수 없으며, 이를 URI 인코딩을 통해 변환해야 합니다. 안전하지 않은 문자에는 공백, &, %, ?, /, # 등이 있습니다.

안전하지 않은 문자를 URI에서 사용할 경우, URI 해석기는 이를 잘못 해석할 수 있습니다. 예를 들어, URI에서 공백은 %20으로 대체됩니다.

URL 설계자는 사람들이 URL에 안전한 알파벳 이외의 문자도 포함하려고 할 때가 있다는 사실을 알고 나서부터 이스케이프라는 기능을 추가했다.

이스케이프는 안전하지 않은 문자를 안전한 문자로 인코딩할 수 있는 기능이다.

## 4.3 프락시와 URL

프락시(Proxy)는 클라이언트와 서버 간의 중개자 역할을 하는 컴퓨터입니다. 프락시는 클라이언트로부터 요청을 받아 서버에 전달하고, 서버로부터 응답을 받아 클라이언트에게 전달합니다. 이렇게 프락시를 통해 데이터를 전달하는 것을 프락시 서버라고 합니다.

프락시는 URL을 사용하여 클라이언트와 서버 간의 통신을 중개합니다. 프락시는 URL을 이용하여 웹 사이트에 접속하거나 파일을 다운로드하도록 설정할 수 있습니다. 이를 통해 프락시는 네트워크 대역폭을 효율적으로 관리하고, 웹 사이트의 캐싱, 보안, 로깅 등 다양한 기능을 수행할 수 있습니다.

프락시는 URL을 사용하여 원격 서버에 접근할 수 있습니다. 클라이언트가 프락시에 요청을 보내면, 프락시는 해당 URL을 사용하여 원격 서버에 접속하고 데이터를 가져옵니다. 이러한 프락시는 웹 캐싱 프락시, 웹 필터링 프락시, 리버스 프락시 등으로 구분됩니다.

- 웹 캐싱 프락시: 웹 캐싱 프락시는 클라이언트 요청에 대한 응답을 캐싱하여 반복된 요청을 줄여줍니다. 이를 통해 네트워크 대역폭을 효율적으로 사용할 수 있습니다.
- 웹 필터링 프락시: 웹 필터링 프락시는 인터넷 사용자가 원하지 않는 웹 사이트나 콘텐츠를 차단할 수 있습니다. 이를 통해 인터넷 사용자의 보안과 개인정보를 보호할 수 있습니다.
- 리버스 프락시: 리버스 프락시는 서버에 대한 요청을 프락시 서버가 받아 처리합니다. 이를 통해 서버의 IP 주소를 감추고, 로드 밸런싱과 같은 네트워크 기능을 수행할 수 있습니다.

따라서, URI는 프락시 서버를 이용하여 웹 사이트에 접근하고, 데이터를 전송하는데 중요한 역할을 합니다.

## 요약

> URI는 URL과 URN을 포함하는 개념이기 때문에 우리가 일반적으로 주소창에서 보는 것은 URL이라고 해석해도 무리가 없다.
> URL은 정해진 문법대로 작성해야 원하는 리소스를 정확하게 얻어올 수 있다.
> 현재는 정해진 문법대로 작성하지 않은 경우, 즉 단축 URL을 사용하거나 안전하지 않은 문자를 사용하는 경우 알고리즘을 통해 절대URL로 변환하거나 안전한 문자로 인코딩할 수 있는 이스케이프라는 기능도 있다.

---

Reference

> 성공과 실패를 결정하는 1%의 네트워크 원리 - Tsutomu Tone 지음, 이도희 옮김, (주)도서출판 성안당
> HTTP 완벽 가이드 - [ 데이빗 고울리, 브라이언 토티, 마조리 세어이, 세일루 레디,안슈 이가왈 ]지음, [ 이응준, 정상일 ]옮김, 프로그래밍 인사이트
> ChatGPT
